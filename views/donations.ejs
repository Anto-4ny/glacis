<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Quantum Market || Earnings</title>
    <meta name="description" content="Quantum Market offers an online earning platform where users make money by inviting others, helping verify new users, selling ebooks, advertising, and more.">
    <meta property="og:title" content="Quantum Market">
    <meta property="og:description" content="Join Quantum Market to earn money through various online opportunities including referrals, verifications, and advertising.">
    <meta property="og:image" content="images/quantum-market-logo.jpg">
    <meta property="og:url" content="https://quatummarket.antocapteknologies.com">

    <!-- Use only one Font Awesome import -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Favicon -->
    <link rel="icon" href="images/quantum-market-logo.jpg" type="image/x-icon">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>


    <script type="module">
        import { ensureAuthenticated } from "./script.js";
        
        document.addEventListener("DOMContentLoaded", () => {
            ensureAuthenticated(); 
        });
    </script>   

<!-- Header -->
<header class="flex flex-col bg-gradient-to-r from-gray-900 via-gray-800 to-gray-100 shadow-lg fixed w-full top-0 z-50 border-b border-gray-300 h-18 px-3">
 
    <!-- Top Section with Icons (Hidden on Small Screens) 
    <div class="hidden lg:flex items-center space-x-4 bg-white shadow-md rounded-full border border-gray-300 px-4 py-2 w-fit absolute right-6 top-0 mb-4">
        <button id="theme-toggle" class="text-yellow-500 text-xl hover:text-yellow-600 transition">
            <i class="fas fa-moon"></i>
        </button>
        <button id="language-toggle" class="text-blue-500 text-xl hover:text-blue-600 transition">
            <i class="fas fa-language"></i>
        </button>
        <button id="notification-bar" class="relative text-green-500 text-xl hover:text-green-600 transition">
            <i class="fas fa-bell"></i>
            <span class="absolute -top-1 -right-1 bg-red-600 text-white text-xs w-4 h-4 flex items-center justify-center rounded-full">3</span>
        </button>
    </div>-->
    
    
        <!-- Main Header Section -->
        <div class="flex items-center justify-between py-1">
            <a href="/dashboard" class="flex items-center space-x-3">
                <img id="logo" src="images/quantum-market-logo.jpg" alt="Logo" class="h-20 w-20 rounded-full shadow-md">                         
            </a>
    
           <!-- Desktop Navigation -->
    <nav class="hidden lg:flex space-x-8 bg-white px-10 py-3 shadow-md rounded-full border border-gray-300 mt-10">
        <a href="dashboard" class="text-gray-900 font-semibold hover:text-blue-500 transition duration-300">Dashboard</a>
        <a href="earnings" class="text-gray-900 font-semibold hover:text-blue-500 transition duration-300">Earnings</a>
        <a href="validator" class="text-gray-900 font-semibold hover:text-blue-500 transition duration-300">Validator</a>
        <a href="referral" class="text-gray-900 font-semibold hover:text-blue-500 transition duration-300">Referrals</a>
        <a href="withdraw" class="text-gray-900 font-semibold hover:text-blue-500 transition duration-300">Withdraw</a>
        <a href="donations" class="text-gray-900 font-semibold hover:text-blue-500 transition duration-300">Donate</a>
        <a href="help" class="text-gray-900 font-semibold hover:text-blue-500 transition duration-300">Help</a>
        <a href="profile" class="text-gray-900 font-semibold hover:text-blue-500 transition duration-300">Profile</a>
        <button id="logout-button-desktop" class="text-red-500 font-semibold hover:text-red-700 transition duration-300">Log Out</button>
    </nav>
    
    
            <!-- Mobile Navigation Icon -->
            <button id="hamburger-icon" class="text-gray-900 text-2xl lg:hidden">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>
    
    <!-- Overlay -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-30 hidden lg:hidden"></div>
    
    <!-- Mobile Navigation -->
    <nav id="mobile-nav" class="fixed left-0 top-0 h-full w-3/4 bg-white text-gray-900 shadow-2xl transform -translate-x-full transition-transform lg:hidden z-50 rounded-r-2xl">
        <div class="p-6 border-b flex justify-between items-center">
            <h3 class="text-xl font-semibold">Menu</h3>
            <button id="close-nav" class="text-gray-700 text-2xl"><i class="fas fa-times"></i></button>
        </div>
        <div class="p-6 flex flex-col space-y-4 text-lg">
            <a href="dashboard" class="flex items-center space-x-3 hover:text-blue-500">
                <i class="fas fa-tachometer-alt"></i><span>Dashboard</span>
            </a>
            <a href="earnings" class="flex items-center space-x-3 hover:text-blue-500">
                <i class="fas fa-dollar-sign"></i><span>Earnings</span>
            </a>
            <a href="validator" class="flex items-center space-x-3 hover:text-blue-500">
                <i class="fas fa-user-check"></i><span>Validator</span>
            </a>
            <a href="referral" class="flex items-center space-x-3 hover:text-blue-500">
                <i class="fas fa-user-friends"></i><span>Referrals</span>
            </a>
            <a href="withdraw" class="flex items-center space-x-3 hover:text-blue-500">
                <i class="fas fa-wallet"></i><span>Withdraw</span>
            </a>
            <a href="donations" class="flex items-center space-x-3 hover:text-blue-500">
                <i class="fas fa-info-circle"></i><span>Donate</span>
            </a>
            <a href="help" class="flex items-center space-x-3 hover:text-blue-500">
                <i class="fas fa-question-circle"></i><span>Help</span>
            </a>
            <a href="profile" class="flex items-center space-x-3 hover:text-blue-500">
                <i class="fas fa-user"></i><span>Profile</span>
            </a>
            <button id="logout-button-mobile" class="flex items-center space-x-3 text-red-500 hover:text-red-700">
                <i class="fas fa-sign-out-alt"></i><span>Log Out</span>
            </button>
        </div>
        
        <!-- Mobile Icons Section (Now inside the menu for small screens)
        <div class="p-6 border-t flex justify-around text-gray-700 text-xl bg-white shadow-md rounded-b-2xl">
            <button id="theme-toggle" class="text-yellow-500 hover:text-yellow-600 transition">
                <i class="fas fa-moon"></i>
            </button>
            <button id="language-toggle" class="text-blue-500 hover:text-blue-600 transition">
                <i class="fas fa-language"></i>
            </button>
            <button id="notification-bar" class="relative text-green-500 hover:text-green-600 transition">
                <i class="fas fa-bell"></i>
                <span class="absolute -top-1 -right-1 bg-red-600 text-white text-xs w-4 h-4 flex items-center justify-center rounded-full">3</span>
            </button>
        </div>-->
    </nav>

              <!-- Spacer for Other Items -->
<div class="h-14 md:h-14 lg:h-14"></div>

<section class="min-h-screen px-4 py-12 bg-gradient-to-br from-white via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-colors duration-500">
  <div class="max-w-4xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-10">
      <h1 class="text-4xl font-bold text-pink-600 dark:text-pink-400 mb-2">Support Our Mission</h1>
      <p class="text-gray-700 dark:text-gray-300 text-lg">Your donation helps us maintain infrastructure, reward validators, and grow the community. Thank you for your generosity!</p>
    </div>

    <!-- Wallet Info -->
    <div class="bg-white/30 dark:bg-white/10 backdrop-blur-md rounded-3xl p-6 shadow-xl border-l-4 border-pink-500 mb-10">
      <h2 class="text-2xl font-semibold text-pink-600 dark:text-pink-400 mb-4">Donate via Binance (BEP20)</h2>
      <div class="flex justify-between items-center bg-white dark:bg-gray-900 p-4 rounded-xl shadow-inner">
        <span class="font-medium text-gray-800 dark:text-gray-200">Wallet Address:</span>
        <div class="flex items-center space-x-2">
          <span id="walletBinance" class="text-sm font-mono text-blue-600 dark:text-blue-400">821693759</span>
         <button id="copyWalletBtn" class="text-sm px-3 py-1 bg-pink-600 text-white rounded hover:bg-pink-700">
            Copy
         </button>
        </div>
      </div>
    </div>

    <!-- Donation Form -->
    <div class="bg-white/30 dark:bg-white/10 backdrop-blur-md rounded-3xl p-6 shadow-xl border-l-4 border-green-500">
      <h2 class="text-2xl font-semibold text-green-600 dark:text-green-400 mb-4">Submit Donation Details</h2>

        <form class="space-y-4" id="donationForm">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">First Name</label>
            <input type="text" id="donor-first-name" class="w-full px-4 py-2 rounded-xl border bg-white dark:bg-gray-900 dark:text-white" required>
            </div>

            <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">Last Name</label>
            <input type="text" id="donor-last-name" class="w-full px-4 py-2 rounded-xl border bg-white dark:bg-gray-900 dark:text-white" required>
            </div>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">Email</label>
            <input type="email" id="donor-email" class="w-full px-4 py-2 rounded-xl border bg-white dark:bg-gray-900 dark:text-white" required>
        </div>

            <!-- TXID field -->
            <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">Transaction ID (TXID)</label>
            <input type="text" id="donor-txid" placeholder="e.g. 0x123abc..." required class="w-full px-4 py-2 rounded-xl border focus:ring-2 focus:ring-green-400 dark:bg-gray-900 dark:text-white">
            <div id="txid-message" class="text-sm mt-1 text-red-500"></div> 
            </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">Wallet Address Used</label>
            <input type="text" id="donor-wallet" class="w-full px-4 py-2 rounded-xl border bg-white dark:bg-gray-900 dark:text-white" required>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">Amount Donated (USD)</label>
            <input type="number" id="donor-amount" placeholder="Enter amount in USD" required class="w-full px-4 py-2 rounded-xl border focus:ring-2 focus:ring-green-400 dark:bg-gray-900 dark:text-white">
        </div>

        <button type="submit" class="w-full px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-full hover:brightness-110 transition-all duration-300">
            Submit Donation
        </button>

        <!-- Success/Error Messages -->
        <div id="donation-message" class="text-center font-medium mt-4"></div>
        </form>

    </div>
  </div>
</section>

<script type="module">
 import {
  auth,
  db,
  doc,
  getDoc,
  addDoc,
  collection,
  onAuthStateChanged
} from './script.js'

const walletAddress = "821693759";

// ✅ Clipboard Copy Handler
function copyWallet() {
  navigator.clipboard.writeText(walletAddress).then(() => {
    showMessage("Wallet address copied!", "green");
  }).catch(() => {
    showMessage("Failed to copy wallet address.", "red");
  });
}

// ✅ Feedback Message
function showMessage(message, type) {
  const msgEl = document.getElementById("donation-message");
  msgEl.textContent = message;
  msgEl.className = `text-center mt-4 font-medium ${type === "green" ? "text-green-600" : "text-red-500"}`;
}

// ✅ Listen for Copy Button Click
document.getElementById("copyWalletBtn").addEventListener("click", copyWallet);

// ✅ Pre-fill user info if logged in
onAuthStateChanged(auth, async (user) => {
  if (user) {
    try {
      const userDoc = await getDoc(doc(db, "users", user.uid));
      if (userDoc.exists()) {
        const data = userDoc.data();
        document.getElementById("donor-first-name").value = data.firstName || "";
        document.getElementById("donor-last-name").value = data.lastName || "";
        document.getElementById("donor-email").value = data.email || user.email;
        document.getElementById("donor-wallet").value = walletAddress;
      }
    } catch (error) {
      showMessage("Failed to fetch user data.", "red");
    }
  }
});

// ✅ Donation Form Submission
document.getElementById("donationForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const firstName = document.getElementById("donor-first-name").value.trim();
  const lastName = document.getElementById("donor-last-name").value.trim();
  const email = document.getElementById("donor-email").value.trim();
  const txid = document.getElementById("donor-txid").value.trim();
  const wallet = document.getElementById("donor-wallet").value.trim();
  const amount = parseFloat(document.getElementById("donor-amount").value);

  if (!txid || !amount || isNaN(amount)) {
    return showMessage("Please enter a valid TXID and amount.", "red");
    document.getElementById("txid-message").textContent = "Invalid TXID";

  }

  try {
    await addDoc(collection(db, "donations"), {
      firstName,
      lastName,
      email,
      txid,
      wallet,
      amount,
      status: "pending",
      timestamp: new Date()
    });

    showMessage("Thank you for your donation! We have received your details.", "green");
    e.target.reset();
  } catch (err) {
    showMessage("Failed to submit donation. Please try again.", "red");
  }
});

</script>



<footer class="bg-gray-900 text-white text-center py-4">
    <p class="copyright-text text-sm">
        &copy; 2025 <span class="font-bold">Quantum Market</span>. All rights reserved.
    </p>
    <p class="text-xs mt-1">
        Designed by 
        <a href="https://antocapteknologies.com" class="text-blue-400 hover:text-blue-300 font-semibold" target="_blank">
            Antocap Teknologies
        </a>
    </p>
</footer>    
  
<script type ="module" src="https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js"></script>
<script type ="module" src="https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js"></script>
<script type ="module" src="https://www.gstatic.com/firebasejs/11.4.0/firebase-auth.js"></script>
<script type ="module" src="https://www.gstatic.com/firebasejs/11.4.0/firebase-firestore.js"></script>
<script type ="module" src="https://www.gstatic.com/firebasejs/11.4.0/firebase-storage.js"></script>

<!-- Your custom script -->
<script type="module" src="script.js"></script>
<script type="module" src="referral.js"></script>

<script>
 document.addEventListener("contextmenu", function (event) {
    event.preventDefault(); // Disable right-click
  });

  document.addEventListener("keydown", function (event) {
    if (event.ctrlKey && (event.key === "u" || event.key === "U")) {
      event.preventDefault(); // Disable "View Source" (Ctrl + U)
    }
    if (event.ctrlKey && event.shiftKey && event.key === "I") {
      event.preventDefault(); // Disable DevTools (Ctrl + Shift + I)
    }
    if (event.ctrlKey && event.shiftKey && event.key === "J") {
      event.preventDefault(); // Disable DevTools (Ctrl + Shift + J)
    }
    if (event.ctrlKey && event.key === "S") {
      event.preventDefault(); // Disable Save (Ctrl + S)
    }
    if (event.ctrlKey && event.key === "P") {
      event.preventDefault(); // Disable Print (Ctrl + P)
    }
  });


</script>

<script>

document.addEventListener("contextmenu", function (event) {
    event.preventDefault(); // Disable right-click
  });
  

  document.addEventListener("keydown", function (event) {
    if (event.ctrlKey && (event.key === "u" || event.key === "U")) {
      event.preventDefault(); // Disable "View Source" (Ctrl + U)
    }
    if (event.ctrlKey && event.shiftKey && event.key === "I") {
      event.preventDefault(); // Disable DevTools (Ctrl + Shift + I)
    }
    if (event.ctrlKey && event.shiftKey && event.key === "J") {
      event.preventDefault(); // Disable DevTools (Ctrl + Shift + J)
    }
    if (event.ctrlKey && event.key === "S") {
      event.preventDefault(); // Disable Save (Ctrl + S)
    }
    if (event.ctrlKey && event.key === "P") {
      event.preventDefault(); // Disable Print (Ctrl + P)
    }
  });
</script>
</body>
</html>

